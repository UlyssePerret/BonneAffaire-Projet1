{% extends "base.html.twig" %}
{% block title %}Profil de {{ app.user.firstname }} {{ app.user.name }}{% endblock %}

{% block body %}

<div class="container ml-20 mt-10">
<h1>votre profile</h1>
<p>Nom : {{ app.user.name }}</p>
<p>Prénom : {{ app.user.firstname }}</p>
<p>E-mail : {{ app.user.email }}</p>

 </div>
   
   <table class="table">
   <a class="btn btn-primary" href="{{ path('annonces_new') }}">Créer une nouvelle annonce</a>
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Date de création</th>
                 <th>actions</th>
           </tr>
        </thead>
        <tbody>

{% for annonce in app.user.annonces %}
    <tr>
                <td>{{ annonce.id }}</td>
                <td>{{ annonce.title }}</td>
                <td>{{ annonce.createdAt ? annonce.createdAt|date('Y-m-d H:i:s') : '' }}</td>
                   <td>
                   <a class="btn btn-success" href="{{ path('annonces_show', {'id': annonce.id}) }}">Details</a>

                    <a class="btn btn-info" href="{{ path('annonces_edit', {'id': annonce.id}) }}"><i class="fas fa-edit"></i></a>
                      {{ include('annonces/_delete_form.html.twig') }}
                </td>
            </tr>
    
  
  {% else %}
            <tr>
                <td colspan="16">Vous n'avez pas deposer encore d'annonce</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>




  
{% endblock %}